{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://unpkg.com/claudify/schema.json",
  "title": "claudify config",
  "description": "Configuration file for claudify — desktop notifications for Claude Code hooks.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string"
    },
    "defaults": {
      "description": "Default notification settings applied to all events unless overridden.",
      "$ref": "#/$defs/EventConfig"
    },
    "events": {
      "description": "Per-event notification settings. Each key is a Claude Code hook event name.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Stop": {
          "description": "Fires when the Claude Code agentic loop ends — task finished or waiting for input.",
          "$ref": "#/$defs/EventConfig"
        },
        "TaskCompleted": {
          "description": "Fires when a Claude Code task is completed.",
          "$ref": "#/$defs/EventConfig"
        },
        "Notification": {
          "description": "Fires when Claude Code sends a notification — e.g. asking a question or requesting input.",
          "$ref": "#/$defs/EventConfig"
        },
        "PostToolUse": {
          "description": "Fires after every successful tool call (Bash, Read, Write, etc.). High frequency — disabled by default.",
          "$ref": "#/$defs/EventConfig"
        },
        "PostToolUseFailure": {
          "description": "Fires when a tool call fails.",
          "$ref": "#/$defs/EventConfig"
        }
      }
    }
  },
  "$defs": {
    "EventConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Whether to send a notification for this event. Default: true.",
          "default": true
        },
        "title": {
          "type": "string",
          "description": "Notification title. Supports {{variable}} and {{variable|fallback}} syntax.",
          "examples": [
            "Claude Code",
            "Claude Code — {{project_name}}",
            "{{title|Claude is waiting...}}"
          ]
        },
        "message": {
          "type": "string",
          "description": "Notification message body. Supports {{variable}} and {{variable|fallback}} syntax.",
          "examples": [
            "{{last_assistant_message|Task completed}}",
            "{{task_subject}} completed",
            "{{tool_name}} failed"
          ]
        },
        "subtitle": {
          "type": "string",
          "description": "Notification subtitle (macOS only). Supports {{variable}} syntax."
        },
        "sound": {
          "type": "string",
          "description": "Sound to play with the notification. Run 'claudify sounds' to list available sounds.",
          "examples": [
            "Glass",
            "Blow",
            "Basso",
            "Hero",
            "Pop",
            "Ping"
          ]
        },
        "noSound": {
          "type": "boolean",
          "description": "Suppress sound for this event.",
          "default": false
        }
      }
    }
  }
}
